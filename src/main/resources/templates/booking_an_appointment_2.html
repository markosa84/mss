<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <title>MSS</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
          crossorigin="anonymous"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <title>Booking an appointment</title>
  <style>
        body {
            font-family: Roboto, Arial, sans-serif;
            background-color: #c2e0c2;
            color: #000;
            margin: 0 auto;
            max-width: 1200px;
        }

        #header {
            text-align: center;
            margin-bottom: 20px;
            font-family: Montserrat, Arial, sans-serif;
            padding-top: 40px;
        }

        #content {
            margin-bottom: 20px;
            padding-top: 40px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border: 2px solid #000;
        }

        th, td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ccc;
            width: 14.28%;
        }

        th {
            background-color: #ddd;
        }

        td.available {
            background-color: #a6e6a6;
            cursor: pointer;
        }

        td.unavailable {
            background-color: #d9d9d9;
        }

        td.booked {
            background-color: #ff8080;
        }

        .popup {
            position: absolute;
            background-color: #fff;
            padding: 10px;
            border: 1px solid #ccc;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
            z-index: 999;
            display: none;
        }

        td.available:hover .popup {
            display: block;
        }

        td.unavailable:hover {
            background-color: #d9d9d9;
            cursor: not-allowed;
        }

        td.available:hover {
            background-color: #00b300;
        }

        #header-buttons {
            text-align: center;
            margin-bottom: 20px;
            padding-top: 40px;
        }

        #header-buttons button {
            width: 150px;
            height: 40px;
            margin: 0 10px;
            border: none;
            border-radius: 20px;
            background-color: #00b300;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
        }

        .div-spacing {
            margin-bottom: 20px;
            padding-top: 20px;
        }

        #header-buttons .wide-button {
            white-space: nowrap;
        }

    </style>
    <script>

function updateDoctorList(day) {
    const doctorInfo = document.getElementById("doctor-info");

    const doctors = getDoctorsByDay(day);

    if (doctors.length > 0) {
        doctorInfo.innerHTML = `<p>Elérhető orvosok:</p><ul>${doctors.map(doctor => `<li>${doctor}</li>`).join("")}</ul>`;
    } else {
        doctorInfo.innerHTML = "<p>Nincs elérhető orvos az adott napon.</p>";
    }
}


function getDoctorsByDay(day) {
    switch (day) {
        case "hétfő":
            return ["Dr. Kovács", "Dr. Nagy"];
        case "kedd":
            return ["Dr. Szabó", "Dr. Kiss"];
        case "szerda":
            return ["Dr. Tóth"];
        case "csütörtök":
            return ["Dr. Kovács"];
        case "péntek":
            return ["Dr. Nagy"];
        case "szombat":
            return [];
        case "vasárnap":
            return [];
        default:
            return [];
    }
}


const cells = document.querySelectorAll("td.available");
cells.forEach(cell => {
    cell.addEventListener("click", () => {
        const day = cell.parentNode.firstChild.textContent;
        updateDoctorList(day);
    });
});

    </script>
</head>
<body>
<div class="frame">
  <div class="center-screen">
    <form name="f" th:action="@{/booking}" action="/booking" method="post">
      <div id="header" class="div-spacing">
        <h1>Időpontfoglaló Rendszer - Szemészeti Osztály</h1>
      </div>
      <div id="header-buttons" class="div-spacing">
        <button>Előző hét</button>
        <button>Következő hét</button>
      </div>

      <div id="filter-section" class="div-spacing">
        <div class="div-spacing">
          <label for="doctor-filter">Orvos neve:</label>
          <select id="doctor-filter">
            <option value="">Összes orvos</option>
            <option value="doctor1">Dr. Kovács</option>
            <option value="doctor2">Dr. Nagy</option>
            <option value="doctor3">Dr. Tóth</option>
            <option value="doctor4">Dr. Szabó</option>
            <!-- Egyéb orvosok hozzáadása -->
          </select>
        </div>

        <div class="div-spacing">
          <label for="time-filter">Időintervallum:</label>
          <select id="time-filter">
            <option value="">Összes időintervallum</option>
            <option value="interval1">08:00 - 08:30</option>
            <option value="interval2">08:30 - 09:00</option>
            <option value="interval3">09:00 - 09:30</option>
            <option value="interval3">09:30 - 10:00</option>
            <!-- Egyéb időintervallumok hozzáadása -->
          </select>
        </div>
      </div>

      <div id="content">
        <table>
          <tr>
            <th></th>
            <th>Hétfő</th>
            <th>Kedd</th>
            <th>Szerda</th>
            <th>Csütörtök</th>
            <th>Péntek</th>
            <th>Szombat</th>
            <th>Vasárnap</th>
          </tr>
          <tr>
            <td>08:00 - 08:30</td>
            <td class="unavailable"></td>
            <td class="available">
            <td class="booked"></td>
            <td class="available">
            <td class="available">
            <td class="unavailable"></td>
            <td class="unavailable"></td>
          </tr>
          <tr>
            <td>08:30 - 09:00</td>
            <td class="unavailable"></td>
            <td class="available">
            <td class="booked"></td>
            <td class="available">
            <td class="available">
            <td class="unavailable"></td>
            <td class="unavailable"></td>
          </tr>
          <tr>
            <td>09:00 - 09:30</td>
            <td class="unavailable"></td>
            <td class="booked"></td>
            <td class="booked"></td>
            <td class="available">
            <td class="booked"></td>
            <td class="unavailable"></td>
            <td class="unavailable"></td>
          </tr>
          <tr>
            <td>09:30 - 10:00</td>
            <td class="unavailable"></td>
            <td class="available">
            <td class="booked"></td>
            <td class="available">
            <td class="booked"></td>
            <td class="unavailable"></td>
            <td class="unavailable"></td>
          </tr>
          <!-- további sorok -->
        </table>
        <div id="doctor-list">
          <h3>Elérhető orvosok:</h3>
          <div id="doctor-info"></div>
        </div>
      </div>
    </form>
  </div>
</div>
</body>
</html>